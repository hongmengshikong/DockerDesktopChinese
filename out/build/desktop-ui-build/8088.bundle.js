"use strict";(globalThis.webpackChunk_docker_desktop_ui=globalThis.webpackChunk_docker_desktop_ui||[]).push([[8088],{88088:(e,n,t)=>{t.r(n),t.d(n,{Component:()=>g,ProxyLoginScreen:()=>g});var r=t(67294),s=t(99226),o=t(69397),i=t(16651),a=t(22715),l=t(23972),d=t(41609),c=t.n(d),x=t(67720),p=t(64596),u=t(13863),_=t(85893);function h(){return(0,_.jsx)(l.Z,{sx:{userSelect:"none",fontSize:"12px",color:e=>e.palette.common.white,whiteSpace:"nowrap"},children:(0,_.jsx)("span",{style:{fontWeight:700},children:"Docker Desktop"})})}const m={root:{display:"flex",color:e=>e.palette.text.primary,backgroundColor:e=>e.palette.background.header,WebkitAppRegion:"drag",height:"42px"},buttonsContainer:{display:"flex",alignItems:"center",justifyContent:"flex-end"},rightContainer:__WIN32__||__LINUX__?{width:"50%"}:{flex:1},center:{display:"flex",alignItems:"center",justifyContent:"center"},verticalCenter:{display:"flex",alignItems:"center"},leftContainer:__WIN32__||__LINUX__?{paddingLeft:e=>e.spacing(2),flexGrow:1}:{flex:1},left:{display:"flex",alignItems:"center",justifyContent:"flex-start"}};function f(){const e=(0,p.y)();return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(s.Z,{id:"dashboard-header",sx:m.root,children:[(0,_.jsx)(s.Z,{sx:[m.verticalCenter,m.leftContainer],children:(__WIN32__||__LINUX__)&&(0,_.jsx)(s.Z,{sx:m.left,children:(0,_.jsx)(h,{})})}),__DARWIN__&&(0,_.jsx)(s.Z,{sx:m.center,children:(0,_.jsx)(h,{})}),(0,_.jsx)(s.Z,{sx:[m.buttonsContainer,m.rightContainer],children:(__WIN32__||__LINUX__)&&(0,_.jsx)(u.t,{})})]}),"dark"===e&&(0,_.jsx)(x.Z,{})]})}function g(){const[e,n]=(0,r.useState)({username:"",password:""});if(!desktopUiLaunchOptions.proxyLogin)throw new Error("ProxyLoginScreen requires proxyLogin CLI arguments");const{loginChallengeId:t,proxyURL:d}=desktopUiLaunchOptions.proxyLogin,x=(0,r.useCallback)((()=>{desktopIpcClient.proxyLoginAbort({id:t})}),[t]),p=(0,r.useCallback)((()=>{window.removeEventListener("beforeunload",x)}),[x]);(0,r.useEffect)((()=>(window.addEventListener("beforeunload",x),()=>{p()})),[x,p]);const u=t=>{const{name:r,value:s}=t.target,o={...e,[r]:s};n(o)};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(f,{}),(0,_.jsxs)(s.Z,{onSubmit:n=>{desktopIpcClient.proxyLoginSubmit({id:t,username:e.username,password:e.password}),p(),desktopIpcClient.window.closeCurrentWindow()},component:"form",sx:{padding:3},children:[(0,_.jsxs)(l.Z,{gutterBottom:!0,color:"inherit",children:["Your proxy ",d," requires a username and password"]}),(0,_.jsxs)(i.ZP,{container:!0,spacing:1,children:[(0,_.jsx)(i.ZP,{item:!0,xs:12,children:(0,_.jsx)(a.Z,{variant:"standard",fullWidth:!0,label:"Username",name:"username",defaultValue:e.username,onChange:u})}),(0,_.jsx)(i.ZP,{item:!0,xs:12,children:(0,_.jsx)(a.Z,{variant:"standard",fullWidth:!0,label:"Password",name:"password",type:"password",defaultValue:e.password,onChange:u})}),(0,_.jsx)(i.ZP,{item:!0,xs:12,mt:4,display:"flex",direction:"column",alignItems:"flex-end",children:(0,_.jsx)(o.Z,{type:"submit",variant:"contained",color:"primary",disabled:c()(e.username),children:"Save"})})]})]})]})}}}]);
//# sourceMappingURL=sourcemaps/8088.bundle.js.map